/*! For license information please see backend.5675562e.js.LICENSE.txt */
(()=>{"use strict";function e(){var r,n,o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.toStringTag||"@@toStringTag";function u(e,o,c,i){var u=o&&o.prototype instanceof s?o:s,l=Object.create(u.prototype);return t(l,"_invoke",function(e,t,o){var c,i,u,s=0,l=o||[],d=!1,f={p:0,n:0,v:r,a:p,f:p.bind(r,4),d:function(e,t){return c=e,i=0,u=r,f.n=t,a}};function p(e,t){for(i=e,u=t,n=0;!d&&s&&!o&&n<l.length;n++){var o,c=l[n],p=f.p,v=c[2];e>3?(o=v===t)&&(u=c[(i=c[4])?5:(i=3,3)],c[4]=c[5]=r):c[0]<=p&&((o=e<2&&p<c[1])?(i=0,f.v=t,f.n=c[1]):p<v&&(o=e<3||c[0]>t||t>v)&&(c[4]=e,c[5]=t,f.n=v,i=0))}if(o||e>1)return a;throw d=!0,t}return function(o,l,v){if(s>1)throw TypeError("Generator is already running");for(d&&1===l&&p(l,v),i=l,u=v;(n=i<2?r:u)||!d;){c||(i?i<3?(i>1&&(f.n=-1),p(i,u)):f.n=u:f.v=u);try{if(s=2,c){if(i||(o="next"),n=c[o]){if(!(n=n.call(c,u)))throw TypeError("iterator result is not an object");if(!n.done)return n;u=n.value,i<2&&(i=0)}else 1===i&&(n=c.return)&&n.call(c),i<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),i=1);c=r}else if((n=(d=f.n<0)?u:e.call(t,f))!==a)break}catch(e){c=r,i=1,u=e}finally{s=1}}return{value:n,done:d}}}(e,c,i),!0),l}var a={};function s(){}function l(){}function d(){}n=Object.getPrototypeOf;var f=[][c]?n(n([][c]())):(t(n={},c,function(){return this}),n),p=d.prototype=s.prototype=Object.create(f);function v(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,t(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return l.prototype=d,t(p,"constructor",d),t(d,"constructor",l),l.displayName="GeneratorFunction",t(d,i,"GeneratorFunction"),t(p),t(p,i,"Generator"),t(p,c,function(){return this}),t(p,"toString",function(){return"[object Generator]"}),(e=function(){return{w:u,m:v}})()}function t(e,r,n,o){var c=Object.defineProperty;try{c({},"",{})}catch(e){c=0}t=function(e,r,n,o){function i(r,n){t(e,r,function(e){return this._invoke(r,n,e)})}r?c?c(e,r,{value:n,enumerable:!o,configurable:!o,writable:!o}):e[r]=n:(i("next",0),i("throw",1),i("return",2))},t(e,r,n,o)}function r(e,t,r,n,o,c,i){try{var u=e[c](i),a=u.value}catch(e){return void r(e)}u.done?t(a):Promise.resolve(a).then(n,o)}function n(e){return function(){var t=this,n=arguments;return new Promise(function(o,c){var i=e.apply(t,n);function u(e){r(i,o,c,u,a,"next",e)}function a(e){r(i,o,c,u,a,"throw",e)}u(void 0)})}}document.addEventListener("DOMContentLoaded",function(){var e="loading";document.querySelectorAll(".loki-prompt-button button").forEach(function(t){t.addEventListener("click",function(){t.classList.add(e),fetch(t.dataset.prefix+"/_loki/prompt/"+t.dataset.id+"/"+t.dataset.field+"/"+t.dataset.objectId).then(function(e){return e.json()}).then(function(r){if(t.classList.remove(e),r.result){var n=t.closest(".widget").querySelector("input[id]"),o=t.closest(".widget").querySelector("textarea[id]"),c=t.closest(".widget").querySelector("select[id]");if(n)n.value=r.result;else if(o)o.innerText=r.result,tinymce&&tinymce.get(o.id)&&tinymce.get(o.id).setContent(r.result);else if(c){c.querySelectorAll("option[selected]").forEach(function(e){e.selected=!1});var i=c.querySelector('option[value="'+r.result+'"]');if(i&&(i.selected=!0),c.classList.contains("tl_chosen")){c.dispatchEvent(new Event("input",{bubbles:!0}));var u=c.parentElement.querySelector(".chzn-container");u&&(u.remove(),new Chosen(c))}}}})})})}),document.addEventListener("DOMContentLoaded",n(e().m(function t(){var r,n,o,c,i,u,a,s,l,d,f;return e().w(function(e){for(;;)switch(e.n){case 0:if(!document.querySelector(".prompts.progress")){e.n=5;break}r=JSON.parse(window.loki_fields),n=parseInt(document.querySelector(".error-count").innerText),o=document.querySelector(".error-messages"),c=document.querySelector(".errors"),i=parseInt(document.querySelector(".completed").innerText),u=0;case 1:if(!(u<r.length)){e.n=5;break}return a=r[u],e.n=2,fetch("/contao/_loki/execute/"+a.field+"/"+a.fieldName+"/"+a.id);case 2:return s=e.v,e.n=3,s.json();case 3:(l=e.v).error&&(c.classList.remove("invisible"),n+=1,document.querySelector(".error-count").innerText=n,(d=document.createElement("p")).innerText=l.error,d.classList.add("error-message"),o.append(d)),i+=1,document.querySelector(".completed").innerText=i,i===r.length&&((f=document.querySelector(".status.pending")).classList.remove("pending"),f.classList.add("complete"));case 4:u++,e.n=1;break;case 5:return e.a(2)}},t)})))})();